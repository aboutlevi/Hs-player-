<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>IPTV Proxy Player</title>
  <link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet" />
  <style>body { background: #000; color: white; text-align: center; }</style>
</head>
<body>
  <h2>Lecteur IPTV via Proxy</h2>
  <video id="video" class="video-js vjs-default-skin" controls autoplay width="640" height="360"></video>

  <script src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>
  <script>
    const params = new URLSearchParams(window.location.search);
    const flux = params.get("flux");

    if (flux) {
      const player = videojs("video");
      player.src({
        src: `http://TON_IP:8000/proxy?url=${encodeURIComponent(flux)}`,
        type: 'video/mp2t' // MPEG-TS
      });
    } else {
      document.body.innerHTML += "<p>Ajoute ?flux=TON_URL</p>";
    }
  </script>
</body>
</html>
